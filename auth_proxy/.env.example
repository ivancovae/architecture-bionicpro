# Пример конфигурации для auth_proxy
# Скопируйте этот файл в .env и настройте значения

# === Redis настройки ===
AUTH_PROXY_REDIS_HOST=localhost
AUTH_PROXY_REDIS_PORT=6379
AUTH_PROXY_REDIS_DB=0
# AUTH_PROXY_REDIS_PASSWORD=your_redis_password

# === Шифрование токенов в Redis ===
# Ключ шифрования для токенов (base64-encoded, 32 байта)
# Если не задан, токены хранятся в Redis без шифрования
# Для генерации нового ключа выполните:
#   python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode('utf-8'))"
AUTH_PROXY_ENCRYPTION_KEY=_meJpFYnX60wM5X1NkTM111lPgn1OKFOowG62KMI6lc=

# === Keycloak OIDC настройки ===
AUTH_PROXY_KEYCLOAK_URL=http://localhost:8080
AUTH_PROXY_KEYCLOAK_REALM=reports-realm
AUTH_PROXY_CLIENT_ID=auth-proxy
AUTH_PROXY_CLIENT_SECRET=auth-proxy-secret-key-12345

# === Настройки сессий ===
AUTH_PROXY_SESSION_COOKIE_NAME=session_id
AUTH_PROXY_SESSION_LIFETIME_SECONDS=3600
AUTH_PROXY_SESSION_COOKIE_SECURE=false
AUTH_PROXY_SESSION_COOKIE_SAMESITE=strict
AUTH_PROXY_SESSION_COOKIE_HTTPONLY=true
AUTH_PROXY_SESSION_COOKIE_PATH=/

# === Ротация сессий ===
AUTH_PROXY_ENABLE_SESSION_ROTATION=true

# === Одна сессия на пользователя ===
AUTH_PROXY_SINGLE_SESSION_PER_USER=true

# === Настройки сервера ===
AUTH_PROXY_AUTH_PROXY_HOST=0.0.0.0
AUTH_PROXY_AUTH_PROXY_PORT=3000

# === URL фронтенда ===
AUTH_PROXY_FRONTEND_URL=http://localhost:5173
AUTH_PROXY_FRONTEND_PUBLIC_URL=http://localhost:3000
